{% extends "layout/base.html" %}

{% block title %}알림 설정{% endblock %}

{% block head_css %}
<style>
    .settings-form {
        max-width: 800px;
    }
    .form-section {
        margin-bottom: 25px;
        border-bottom: 1px solid #eee;
        padding-bottom: 25px;
    }
    .form-section h3 {
        margin-bottom: 20px;
        font-size: 1.1em;
    }
    .channel-setup {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
    }
    .notification-table {
        width: 100%;
        text-align: center;
    }
    .notification-table th, .notification-table td {
        padding: 12px;
        border-bottom: 1px solid #f0f0f0;
    }
    .notification-table th {
        background-color: #f8f9fa;
    }
    .notification-table td:first-child {
        text-align: left;
        font-weight: bold;
    }
    /* Simple toggle switch */
    .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 28px;
    }
    .switch input { display: none; }
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 28px;
    }
    .slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    input:checked + .slider {
        background-color: var(--primary-color);
    }
    input:checked + .slider:before {
        transform: translateX(22px);
    }
</style>
{% endblock %}

{% block content %}
<h2>⚙️ 알림 설정</h2>

<div class="panel settings-form">
    <form action="/api/settings/notifications" method="post">
        <div class="form-section">
            <h3>알림 채널 설정</h3>
            <div class="channel-setup">
                <span><strong>이메일:</strong> user01@email.com</span>
                <label class="switch">
                    <input type="checkbox" checked>
                    <span class="slider"></span>
                </label>
            </div>
             <div class="channel-setup">
                <span><strong>텔레그램 ID:</strong></span>
                <input type="text" placeholder="텔레그램 숫자 ID 입력" style="width: 200px;">
                <button type="button" class="btn-small">연동 테스트</button>
            </div>
        </div>

        <div class="form-section">
            <h3>알림 항목 설정</h3>
            <table class="notification-table">
                <thead>
                    <tr>
                        <th>알림 종류</th>
                        <th>이메일</th>
                        <th>텔레그램</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>매수/매도 체결 시</td>
                        <td><input type="checkbox" checked></td>
                        <td><input type="checkbox" checked></td>
                    </tr>
                    <tr>
                        <td>시스템 오류 발생 시</td>
                        <td><input type="checkbox" checked></td>
                        <td><input type="checkbox" checked></td>
                    </tr>
                    <tr>
                        <td>일일 마감 리포트</td>
                        <td><input type="checkbox"></td>
                        <td><input type="checkbox" checked></td>
                    </tr>
                    <tr>
                        <td>신규 공지사항 등록 시</td>
                        <td><input type="checkbox" checked></td>
                        <td><input type="checkbox"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <button type="submit" class="btn-primary" style="padding: 12px 20px;">설정 저장</button>
    </form>
</div>
{% endblock %}